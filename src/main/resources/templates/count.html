<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>MongoDB Web Query</title> 
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	
	<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
	
    <link rel="stylesheet" th:href="@{/css/evaluatorMain.css}"/>
    <link rel="stylesheet" th:href="@{/css/queryForm.css}"/>
    <link rel="stylesheet" th:href="@{/css/resultTable.css}"/>
    	
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/gasparesganga-jquery-loading-overlay@2.1.7/dist/loadingoverlay.min.js"></script>
	
	<script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
	
	<script>
			window.onload = function () {

				var dataPoints = [];

				var chart = new CanvasJS.Chart("chartContainer", 
				{
					animationEnabled: true,
					theme: "dark1",   // "light1", "light2", "dark1", "dark2"
					title: {
							text: "Shard Write Count"
					},
					axisY: {
						title: "Number of write Ops"
					},
					axisX: {
						title: "Shard"
					},
					data: [{
						type: "column",
						dataPoints: dataPoints
					}]
				});
				
				chart.render();

				function addData(data) {
								
	 				for (var i = 0; i < data.length; i++) {					
	 					dataPoints.push({
	 						label: data[i].node,
	 						y: data[i].count,
	 					});
	 				}
	 				
	 				chart.render();
	 			}
						    		
	 			addData(clusterStats);				
			}
	</script>
	
	<script th:inline="javascript">
    	/*<![CDATA[*/
    	var clusterStats = /*[[${clusterStats}]]*/;
    	/*]]>*/
	</script>
	

	</head>

	<body>
		<div align="center" th:text="${dateRange}" style="padding-top: 5px; font-weight: bold;"> </div>
		<div class="box" onclick="window.location.href='http://localhost:8080/home'"></div>
		<div style="padding:25px; padding-top:15px;">
			<div id="chartContainer" style="height: 370px; width: 100%;"></div>
		</div>
	</body>
</html>                     